<div class="complete-button-container">
  <h3>Complete User Task</h3>
  
  <div *ngIf="selectedUser$ | async as selectedUser; else noUserSelected">
    <p>Complete task for: <strong>{{ selectedUser.name }}</strong></p>
    
    <button 
      class="complete-btn"
      [disabled]="selectedUser.status === 'completed' || (loading$ | async)"
      (click)="onCompleteUser(selectedUser.id)">
      {{ selectedUser.status === 'completed' ? 'Already Completed' : 'Mark as Completed' }}
    </button>
    
    <div *ngIf="(loading$ | async)" class="loading-indicator">
      Updating...
    </div>
  </div>
  
  <ng-template #noUserSelected>
    <p class="info-message">Please select a user first</p>
  </ng-template>
</div>


